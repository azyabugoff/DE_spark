# Работа с Git

## Настройка git 

1. Генерация ключа
   1. В консоле вводим `ssh-keygen -t rsa -b 4096 -C "email"` заменив email на актуальный (тот который указан в профиле github)
   1. При запросе имени файла нажимаем **Enter** (сохранит автоматически в нужную директорию)
   1. Вводим пароль. желательно не сильно длинный т.к. его нужно будет постоянно вводить.
1. Добавление ключа в профиль GitHub
   1. Авторизуемся на GitHub
   1. Открываем меню по нажатию на аватарку в верхнем равом углу и выбераем пункт **Settings**
   1. Выбераем пункт **SSH and GPG keys**
   1. Нажимаем на **New SSH Key** и копируем содержимое файла id_rsa.pub полученного на первом шаге
1. Добавление ключа на сервер (со Spark)
   1. Копирование на сервер
      1. Через консоль linux: `scp -i ~/.ssh/newprolab.pem ~/.ssh/id_rsa username@spark-master-2[или 3].newprolab.com:~/.ssh`
      1. Через MobaXTerm: Просто перетащите иконку файла в область проводника
   1. Установка прав на файл `chmod 700 .ssh/id_rsa` 

## Команды

Команда | Описание
--------|---------
`git clone git@github.com:newprolab/sberbank-spark-de-6.git` | Клонирование репозитория
`git branch branch_name` | создание ветки
`git checkout branch_name` | переключение на ветку
`git add *` | добавить все файлы которые были изменены
`git add file_path1 file_path2 ... file_pathN` | добавить файлы по списку
`git commit` | Коммит (необходимо ввести описание коммита и выйти из vi : **Esc** -> `:qw`)
`git push` | выполняет вагрузку в удаленный репозиторий
`git pull` | выполняет загрузку из удаленного репозитория
`git rebase --onto branch_to branch_from branch_main` | перенос ветки branch_main с ветки branch_from на ветку branch_to


## Как отсылать решения (строго после дедлайна)?

* на Github.com: Форкнуть newprolab/sberbank-spark-de-6.
* Склонировать этот форк <ваш ник>/sberbank-spark-de-6 (git clone ...) к себе на лаптоп или на мастере.
* Создать там свою ветку name.surname от ветки labs (git branch ...) .
* Переключится на свою ветку (git checkout ...).
* в директории **solutions** создать поддиректорию name.surname, в ней еще одну для лабы, например lab01, lab02 etc. Положить код проекта именно туда.
* Выполнить добавление новых файлов в индекс гита (git add).
* Сделать commit + push
* В GitHub.com создать pull request. 
   * Начать с главной страницы репозитория.
   * Нажать branches
   * New pull request из вашей ветки name.surname в нашу ветку **labs**

Выполнять Merge не нужно.

## Организация папок

Лабораторные складывать в папку *solutions/<user_name>/labN*.
* *<user_name>* - ваш логин из личного кабинета
* *N* - это порядковый номер лабораторной, например, 01, 04a etc
